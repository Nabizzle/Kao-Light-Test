#include <Servo.h>
//create the variables to store the digital output values
int dig_0 = 0;
int dig_1 = 0;
int dig_2 = 0;
int dig_3 = 0;
int dig_4 = 0;
int dig_5 = 0;
int dig_6 = 0;
int dig_7 = 0;
int dig_8 = 0;
int dig_9 = 0;
int dig_12 = 0;
int dig_13 = 0;
//store the value of the array index
int index = 0;
//store the index in the pan array
int pan_index = 0;
 
Servo pan; //create servo object to control the pan servo
Servo tilt; //create servo object to control the tilt servo

int pan_pos = 90; // variable to store the pan servo position
int tilt_pos = 90; // variable to store the tilt servo position

float pan_array[] = {72.22867918,71.33308573,70.34617594,69.25391972,68.03943598,66.68229161,65.15761089,63.43494882,61.47688139,59.23728047,56.65929265,53.67317405,50.19442891,46.12330271,41.34777722,35.75388725,29.24882634,21.80140949,13.49573328,4.57392126,-4.57392126,-13.49573328,-21.80140949,-29.24882634,-35.75388725,-41.34777722,-46.12330271,-50.19442891,-53.67317405,-56.65929265,-59.23728047,-61.47688139,-63.43494882,-65.15761089,-66.68229161,-68.03943598,-69.25391972,-70.34617594,-71.33308573,-72.22867918
};

 float tilt_array[] = {75.37300351,78.24822272,81.20090273,84.21858236,87.28673228,90.38907055,93.50801415,96.62524143,99.72232383,102.7813742,74.63666266,77.64313764,80.73897418,83.91020355,87.14023888,90.41024863,93.69971998,96.98717999,100.2510164,103.4703222,73.83032197,76.97827007,80.2298682,83.5694604,86.97804811,90.43372786,93.91239783,97.38869211,100.8370607,104.2328846,72.9449721,76.24539827,79.66672369,83.19142867,86.79768877,90.45987884,94.14946259,97.83621607,101.4896686,105.0805962,71.9703824,75.43501925,79.04148898,82.7702569,86.59619596,90.48914908,94.41505113,98.33754965,102.2199562,106.027278,70.89503953,74.53620476,78.34473206,82.29898551,86.37000192,90.52208136,94.71420052,98.90218474,103.0413937,107.0895339,69.70617711,73.53650437,77.56545772,81.76934769,86.11480724,90.55933617,95.05306972,99.54172349,103.9703556,108.2873325,68.3899778,72.42196026,76.69097337,81.17157116,85.82543653,90.60171838,95.43920951,100.2703842,105.0267687,109.6446496,66.93208078,71.17734807,75.70688548,80.49422549,85.49569269,90.65020708,95.88187688,101.1055891,106.234833,111.190099,65.31860433,69.78683918,74.59738087,79.72420988,85.11824635,90.70598476,96.39236807,102.068585,107.623713,112.9573728,63.53799803,68.23540352,73.34606809,78.84706858,84.68464171,90.77045597,96.98429303,103.1849496,109.22795,114.9850973,61.58416202,66.51144356,71.93784619,77.84798514,84.18558784,90.84523254,97.67360039,104.484623,111.087022,117.3153062,59.4613658,64.61134207,70.36253479,76.7140724,83.61186409,90.93203708,98.47792497,106.0006579,113.2428501,119.9889975,57.19144226,62.54670528,68.62127453,75.43894098,82.95643117,91.03242896,99.41436601,107.7650169,115.7329011,123.0360662,54.82327117,60.354793,66.73672244,74.03084367,82.21868149,91.14718232,100.4940028,109.798246,118.5747415,126.4554549,52.44330426,58.11137796,64.76715173,72.52539066,81.4119275,91.2750671,101.7104134,112.0879274,121.7360839,130.180883,50.1834705,55.9423721,62.82159211,71.00159846,80.57436025,91.41083525,103.0193059,114.5505354,125.0857732,134.0319279,48.21959063,54.02605933,61.06741606,69.59421655,79.78013422,91.54276095,104.3109482,116.9798414,128.3345189,137.6666569,46.7517081,52.57446056,59.7159039,68.48700339,79.1401714,91.65157389,105.3929585,119.0145841,131.0099678,140.5824757,45.96227053,51.78693158,58.97431202,67.87066233,78.77779374,91.71426904,106.0239403,120.2011996,132.5500034,142.2281686,45.96227053,51.78693158,58.97431202,67.87066233,78.77779374,91.71426904,106.0239403,120.2011996,132.5500034,142.2281686,46.7517081,52.57446056,59.7159039,68.48700339,79.1401714,91.65157389,105.3929585,119.0145841,131.0099678,140.5824757,48.21959063,54.02605933,61.06741606,69.59421655,79.78013422,91.54276095,104.3109482,116.9798414,128.3345189,137.6666569,50.1834705,55.9423721,62.82159211,71.00159846,80.57436025,91.41083525,103.0193059,114.5505354,125.0857732,134.0319279,52.44330426,58.11137796,64.76715173,72.52539066,81.4119275,91.2750671,101.7104134,112.0879274,121.7360839,130.180883,54.82327117,60.354793,66.73672244,74.03084367,82.21868149,91.14718232,100.4940028,109.798246,118.5747415,126.4554549,57.19144226,62.54670528,68.62127453,75.43894098,82.95643117,91.03242896,99.41436601,107.7650169,115.7329011,123.0360662,59.4613658,64.61134207,70.36253479,76.7140724,83.61186409,90.93203708,98.47792497,106.0006579,113.2428501,119.9889975,61.58416202,66.51144356,71.93784619,77.84798514,84.18558784,90.84523254,97.67360039,104.484623,111.087022,117.3153062,63.53799803,68.23540352,73.34606809,78.84706858,84.68464171,90.77045597,96.98429303,103.1849496,109.22795,114.9850973,65.31860433,69.78683918,74.59738087,79.72420988,85.11824635,90.70598476,96.39236807,102.068585,107.623713,112.9573728,66.93208078,71.17734807,75.70688548,80.49422549,85.49569269,90.65020708,95.88187688,101.1055891,106.234833,111.190099,68.3899778,72.42196026,76.69097337,81.17157116,85.82543653,90.60171838,95.43920951,100.2703842,105.0267687,109.6446496,69.70617711,73.53650437,77.56545772,81.76934769,86.11480724,90.55933617,95.05306972,99.54172349,103.9703556,108.2873325,70.89503953,74.53620476,78.34473206,82.29898551,86.37000192,90.52208136,94.71420052,98.90218474,103.0413937,107.0895339,71.9703824,75.43501925,79.04148898,82.7702569,86.59619596,90.48914908,94.41505113,98.33754965,102.2199562,106.027278,72.9449721,76.24539827,79.66672369,83.19142867,86.79768877,90.45987884,94.14946259,97.83621607,101.4896686,105.0805962,73.83032197,76.97827007,80.2298682,83.5694604,86.97804811,90.43372786,93.91239783,97.38869211,100.8370607,104.2328846,74.63666266,77.64313764,80.73897418,83.91020355,87.14023888,90.41024863,93.69971998,96.98717999,100.2510164,103.4703222,75.37300351,78.24822272,81.20090273,84.21858236,87.28673228,90.38907055,93.50801415,96.62524143,99.72232383,102.7813742
};

void setup() {
  //set digial pins 0-9 and 12-13 to input
  pinMode(0, INPUT);
  pinMode(1, INPUT);
  pinMode(2, INPUT);
  pinMode(3, INPUT);
  pinMode(4, INPUT);
  pinMode(5, INPUT);
  pinMode(6, INPUT);
  pinMode(7, INPUT);
  pinMode(8, INPUT);
  pinMode(9, INPUT);
  pinMode(12, INPUT);
  pinMode(13, INPUT);
  
  pan.attach(10); // attaches the pan servo on pin 10 to the servo object
  tilt.attach(11);  // attaches the titl servo on pin 11 to the servo object
}

void loop() {
  //Read from all of the digital inputs
  dig_0 = digitalRead(0);
  dig_1 = digitalRead(1);
  dig_2 = digitalRead(2);
  dig_3 = digitalRead(3);
  dig_4 = digitalRead(4);
  dig_5 = digitalRead(5);
  dig_6 = digitalRead(6);
  dig_7 = digitalRead(7);
  dig_8 = digitalRead(8);
  dig_9 = digitalRead(9);
  dig_12 = digitalRead(12);
  dig_13 = digitalRead(13);

  //find the decimal value of the digital inputs
  index = dig_0 + dig_1 * 2 + dig_2 * 4 + dig_3 * 8 + dig_4 * 16 + dig_5 * 32 + dig_6 * 64 + dig_7 * 128 + dig_8 * 256 + dig_9 * 512 + dig_12 * 1024 + dig_13 * 2048;

  //Find the index in the Pan array
  pan_index = (int) (index / 64 - 1);
  if (index % 64 > 0) {
    pan_index++;
    }

  pan_pos = pan_array[pan_index];
  tilt_pos = tilt_array[index - 1];
  //command the servos to their approviate angles
  pan.write(pan_pos);
  tilt.write(tilt_pos);
}
