#include <Servo.h>
//create the variables to store the digital output values
int dig_0 = 0;
int dig_1 = 0;
int dig_2 = 0;
int dig_3 = 0;
int dig_4 = 0;
int dig_5 = 0;
int dig_6 = 0;
int dig_7 = 0;
int dig_8 = 0;
int dig_9 = 0;
int dig_12 = 0;
int dig_13 = 0;
//store the value of the array index
int index = 0;
//store the index in the pan array
int pan_index = 0;
 
Servo pan; //create servo object to control the pan servo
Servo tilt; //create servo object to control the tilt servo

int pan_pos = 90; // variable to store the pan servo position
int tilt_pos = 90; // variable to store the tilt servo position

float pan_array[] = {115.7490513,114.083067,112.3726366,110.6191262,108.8242934,106.9903034,105.119737,103.2155895,101.2812607,99.32053293,97.33753892,95.33671812,93.3227633,91.30055824,89.27510862,87.25146849,85.23466489,83.22962352,81.24109812,79.27360604,77.33137202,75.41828184,73.53784664,71.69317834,69.88697603,68.1215225,66.39869003,64.71995402
};

 float tilt_array[] = {78.23860693,78.07422885,77.91623695,77.7657458,77.62389439,77.49182829,77.37067922,77.26154255,77.16545338,77.08336208,77.01611018,76.96440786,76.92881404,76.90972009,76.90733821,76.92169497,76.95263054,76.99980351,77.06270111,77.14065429,77.23285665,77.33838636,77.45622992,77.5853066,77.72449266,77.8726443,78.02861871,78.19129272,80.10220879,79.96222021,79.82760593,79.69932316,79.57835149,79.46567747,79.36227694,79.26909545,79.18702749,79.11689505,79.05942656,79.01523719,78.98481128,78.96848818,78.96645187,78.97872543,79.00517022,79.04549023,79.09924103,79.165843,79.24459797,79.33470844,79.43529836,79.54543453,79.66414766,79.79045235,79.92336538,80.06192174,81.9937002,81.87925616,81.76915806,81.66419431,81.56517278,81.4729081,81.38820695,81.31185181,81.24458358,81.18708368,81.13995643,81.10371248,81.07875407,81.06536313,81.06369256,81.07376152,81.09545482,81.1285265,81.17260742,81.22721637,81.29177403,81.36561914,81.44802589,81.5382218,81.63540536,81.73876264,81.84748246,81.96076971,83.90964292,83.82177765,83.73721664,83.65656911,83.58046009,83.50952046,83.44437562,83.38563275,83.33386727,83.28960877,83.25332726,83.22542008,83.20620038,83.19588769,83.19460111,83.20235556,83.21906131,83.24452683,83.27846471,83.32050046,83.37018346,83.42699966,83.49038525,83.55974066,83.63444435,83.71386574,83.79737709,83.88436378,85.84627664,85.78588142,85.72773838,85.67226856,85.61990434,85.5710826,85.52623675,85.48578795,85.45013559,85.41964753,85.39465037,85.37542039,85.36217539,85.3550681,85.35418139,85.35952565,85.37103844,85.3885865,85.41196992,85.44092827,85.47514837,85.51427312,85.55791109,85.60564634,85.65704798,85.71167929,85.76910585,85.82890278,87.79955319,87.76735597,87.7363511,87.70676404,87.67882648,87.65277273,87.6288354,87.60724066,87.58820314,87.5719206,87.55856873,87.5482962,87.54122023,87.53742306,87.53694932,87.53980459,87.54595525,87.55532956,87.56781989,87.58328611,87.60155972,87.62244871,87.64574272,87.67121831,87.6986442,87.72778611,87.75841121,87.79029192,89.76517971,89.76172735,89.75840216,89.7552284,89.752231,89.74943521,89.74686609,89.74454803,89.74250419,89.7407559,89.73932213,89.73821894,89.737459,89.73705117,89.73700029,89.73730695,89.73796753,89.73897428,89.74031557,89.74197626,89.74393816,89.74618056,89.74868074,89.75141463,89.75435728,89.75748347,89.76076812,89.76418674,91.73867007,91.76431403,91.78901676,91.81259772,91.83487113,91.85564897,91.87474441,91.8919756,91.90716989,91.92016804,91.93082853,91.93903155,91.94468257,91.94771526,91.94809364,91.94581318,91.94090102,91.93341503,91.92344198,91.91109483,91.89650934,91.87984012,91.86125646,91.84093801,91.8190706,91.79584228,91.7714398,91.74604544,93.71540301,93.77028921,93.82316453,93.87364209,93.92132379,93.96580659,94.00668989,94.0435838,94.07611801,94.103951,94.12677914,94.1443454,94.15644696,94.16294151,94.16375182,94.15886819,94.14834883,94.13231793,94.11096166,94.0845224,94.05329135,94.01760018,93.97781197,93.93431196,93.88749857,93.83777495,93.78554129,93.73118824,95.69068539,95.77474877,95.8557322,95.93304315,96.00607189,96.07420115,96.1368174,96.19332352,96.24315234,96.28578081,96.32074395,96.34764807,96.36618256,96.37612948,96.37737052,96.36989086,96.35377964,96.32922703,96.29651821,96.25602434,96.20819143,96.15352743,96.09258841,96.0259644,95.95426559,95.8781094,95.79810875,95.71486197,97.65981844,97.77278253,97.88160001,97.98547555,98.08359091,98.1751179,98.25923355,98.33513696,98.40206761,98.45932417,98.50628331,98.54241729,98.56730977,98.58066865,98.58233538,98.5722901,98.55065225,98.51767675,98.47374578,98.41935691,98.35510803,98.28168017,98.19981897,98.11031571,98.01398891,97.91166689,97.80417214,97.69230768,99.61816459,99.75954615,99.89571878,100.0256893,100.1484365,100.2629269,100.3681341,100.4630598,100.5467558,100.6183484,100.677061,100.7222364,100.7533562,100.7700566,100.7721402,100.7595823,100.7325316,100.6913056,100.63638,100.5683746,100.4880342,100.3962072,100.2938229,100.1818678,100.0613626,99.93334069,99.7988286,99.65882895,101.5612127,101.7303313,101.893185,102.04859,102.1953294,102.3321728,102.4578989,102.5713199,102.6713091,102.7568278,102.8269537,102.8809063,102.91807,102.938013,102.9405012,102.925505,102.8932012,102.8439663,102.7783653,102.6971342,102.6011575,102.4914435,102.3690967,102.2352903,102.0912389,101.9381725,101.777314,101.6098585,103.4846391,103.6806311,103.8693112,104.0493134,104.2192351,104.377659,104.5231793,104.6544299,104.7701153,104.8690425,104.9501522,105.0125483,105.0555246,105.0785857,105.0814628,105.0641222,105.0267665,104.9698279,104.8939546,104.7999912,104.6889535,104.5619998,104.4203994,104.2655018,104.0987044,103.921424,103.7350699,103.5410204
};

void setup() {
  //set digial pins 0-9 and 12-13 to input
  pinMode(0, INPUT);
  pinMode(1, INPUT);
  pinMode(2, INPUT);
  pinMode(3, INPUT);
  pinMode(4, INPUT);
  pinMode(5, INPUT);
  pinMode(6, INPUT);
  pinMode(7, INPUT);
  pinMode(8, INPUT);
  pinMode(9, INPUT);
  pinMode(12, INPUT);
  pinMode(13, INPUT);
  
  pan.attach(10); // attaches the pan servo on pin 10 to the servo object
  tilt.attach(11);  // attaches the titl servo on pin 11 to the servo object
}

void loop() {
  //Read from all of the digital inputs
  dig_0 = digitalRead(0);
  dig_1 = digitalRead(1);
  dig_2 = digitalRead(2);
  dig_3 = digitalRead(3);
  dig_4 = digitalRead(4);
  dig_5 = digitalRead(5);
  dig_6 = digitalRead(6);
  dig_7 = digitalRead(7);
  dig_8 = digitalRead(8);
  dig_9 = digitalRead(9);
  dig_12 = digitalRead(12);
  dig_13 = digitalRead(13);

  //find the decimal value of the digital inputs
  index = dig_0 + dig_1 * 2 + dig_2 * 4 + dig_3 * 8 + dig_4 * 16 + dig_5 * 32 + dig_6 * 64 + dig_7 * 128 + dig_8 * 256 + dig_9 * 512 + dig_12 * 1024 + dig_13 * 2048;

  //Find the index in the Pan array
  pan_index = index % 28 - 1;
  if (index % 28 == -1) {
    pan_index = 28;
    }

  pan_pos = pan_array[pan_index];
  tilt_pos = tilt_array[index - 1];
  //command the servos to their approviate angles
  pan.write(pan_pos);
  tilt.write(tilt_pos);
}
