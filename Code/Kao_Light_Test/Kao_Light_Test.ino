#include <Servo.h>
//create the variables to store the digital output values
int dig_0 = 0;
int dig_1 = 0;
int dig_2 = 0;
int dig_3 = 0;
int dig_4 = 0;
int dig_5 = 0;
int dig_6 = 0;
int dig_7 = 0;
int dig_8 = 0;
int dig_9 = 0;
int dig_12 = 0;
int dig_13 = 0;
//store the value of the array index
int index = 0;
//store the index in the pan array
int pan_index = 0;
 
Servo pan; //create servo object to control the pan servo
Servo tilt; //create servo object to control the tilt servo

int pan_pos = 90; // variable to store the pan servo position
int tilt_pos = 90; // variable to store the tilt servo position

float pan_array[] = {25.74905129,24.08306699,22.37263662,20.61912616,18.82429339,16.99030343,15.11973697,13.21558949,11.28126067,9.320532929,7.337538919,5.33671812,3.3227633,1.300558238,-0.724891379,-2.748531511,-4.765335115,-6.770376484,-8.758901881,-10.72639396,-12.66862798,-14.58171816,-16.46215336,-18.30682166,-20.11302397,-21.8784775,-23.60130997,-25.28004598
};

 float tilt_array[] = {78.23860693,80.10220879,81.9937002,83.90964292,85.84627664,87.79955319,89.76517971,91.73867007,93.71540301,95.69068539,97.65981844,99.61816459,101.5612127,103.4846391,78.07422885,79.96222021,81.87925616,83.82177765,85.78588142,87.76735597,89.76172735,91.76431403,93.77028921,95.77474877,97.77278253,99.75954615,101.7303313,103.6806311,77.91623695,79.82760593,81.76915806,83.73721664,85.72773838,87.7363511,89.75840216,91.78901676,93.82316453,95.8557322,97.88160001,99.89571878,101.893185,103.8693112,77.7657458,79.69932316,81.66419431,83.65656911,85.67226856,87.70676404,89.7552284,91.81259772,93.87364209,95.93304315,97.98547555,100.0256893,102.04859,104.0493134,77.62389439,79.57835149,81.56517278,83.58046009,85.61990434,87.67882648,89.752231,91.83487113,93.92132379,96.00607189,98.08359091,100.1484365,102.1953294,104.2192351,77.49182829,79.46567747,81.4729081,83.50952046,85.5710826,87.65277273,89.74943521,91.85564897,93.96580659,96.07420115,98.1751179,100.2629269,102.3321728,104.377659,77.37067922,79.36227694,81.38820695,83.44437562,85.52623675,87.6288354,89.74686609,91.87474441,94.00668989,96.1368174,98.25923355,100.3681341,102.4578989,104.5231793,77.26154255,79.26909545,81.31185181,83.38563275,85.48578795,87.60724066,89.74454803,91.8919756,94.0435838,96.19332352,98.33513696,100.4630598,102.5713199,104.6544299,77.16545338,79.18702749,81.24458358,83.33386727,85.45013559,87.58820314,89.74250419,91.90716989,94.07611801,96.24315234,98.40206761,100.5467558,102.6713091,104.7701153,77.08336208,79.11689505,81.18708368,83.28960877,85.41964753,87.5719206,89.7407559,91.92016804,94.103951,96.28578081,98.45932417,100.6183484,102.7568278,104.8690425,77.01611018,79.05942656,81.13995643,83.25332726,85.39465037,87.55856873,89.73932213,91.93082853,94.12677914,96.32074395,98.50628331,100.677061,102.8269537,104.9501522,76.96440786,79.01523719,81.10371248,83.22542008,85.37542039,87.5482962,89.73821894,91.93903155,94.1443454,96.34764807,98.54241729,100.7222364,102.8809063,105.0125483,76.92881404,78.98481128,81.07875407,83.20620038,85.36217539,87.54122023,89.737459,91.94468257,94.15644696,96.36618256,98.56730977,100.7533562,102.91807,105.0555246,76.90972009,78.96848818,81.06536313,83.19588769,85.3550681,87.53742306,89.73705117,91.94771526,94.16294151,96.37612948,98.58066865,100.7700566,102.938013,105.0785857,76.90733821,78.96645187,81.06369256,83.19460111,85.35418139,87.53694932,89.73700029,91.94809364,94.16375182,96.37737052,98.58233538,100.7721402,102.9405012,105.0814628,76.92169497,78.97872543,81.07376152,83.20235556,85.35952565,87.53980459,89.73730695,91.94581318,94.15886819,96.36989086,98.5722901,100.7595823,102.925505,105.0641222,76.95263054,79.00517022,81.09545482,83.21906131,85.37103844,87.54595525,89.73796753,91.94090102,94.14834883,96.35377964,98.55065225,100.7325316,102.8932012,105.0267665,76.99980351,79.04549023,81.1285265,83.24452683,85.3885865,87.55532956,89.73897428,91.93341503,94.13231793,96.32922703,98.51767675,100.6913056,102.8439663,104.9698279,77.06270111,79.09924103,81.17260742,83.27846471,85.41196992,87.56781989,89.74031557,91.92344198,94.11096166,96.29651821,98.47374578,100.63638,102.7783653,104.8939546,77.14065429,79.165843,81.22721637,83.32050046,85.44092827,87.58328611,89.74197626,91.91109483,94.0845224,96.25602434,98.41935691,100.5683746,102.6971342,104.7999912,77.23285665,79.24459797,81.29177403,83.37018346,85.47514837,87.60155972,89.74393816,91.89650934,94.05329135,96.20819143,98.35510803,100.4880342,102.6011575,104.6889535,77.33838636,79.33470844,81.36561914,83.42699966,85.51427312,87.62244871,89.74618056,91.87984012,94.01760018,96.15352743,98.28168017,100.3962072,102.4914435,104.5619998,77.45622992,79.43529836,81.44802589,83.49038525,85.55791109,87.64574272,89.74868074,91.86125646,93.97781197,96.09258841,98.19981897,100.2938229,102.3690967,104.4203994,77.5853066,79.54543453,81.5382218,83.55974066,85.60564634,87.67121831,89.75141463,91.84093801,93.93431196,96.0259644,98.11031571,100.1818678,102.2352903,104.2655018,77.72449266,79.66414766,81.63540536,83.63444435,85.65704798,87.6986442,89.75435728,91.8190706,93.88749857,95.95426559,98.01398891,100.0613626,102.0912389,104.0987044,77.8726443,79.79045235,81.73876264,83.71386574,85.71167929,87.72778611,89.75748347,91.79584228,93.83777495,95.8781094,97.91166689,99.93334069,101.9381725,103.921424,78.02861871,79.92336538,81.84748246,83.79737709,85.76910585,87.75841121,89.76076812,91.7714398,93.78554129,95.79810875,97.80417214,99.7988286,101.777314,103.7350699,78.19129272,80.06192174,81.96076971,83.88436378,85.82890278,87.79029192,89.76418674,91.74604544,93.73118824,95.71486197,97.69230768,99.65882895,101.6098585,103.5410204
};

void setup() {
  //set digial pins 0-9 and 12-13 to input
  pinMode(0, INPUT);
  pinMode(1, INPUT);
  pinMode(2, INPUT);
  pinMode(3, INPUT);
  pinMode(4, INPUT);
  pinMode(5, INPUT);
  pinMode(6, INPUT);
  pinMode(7, INPUT);
  pinMode(8, INPUT);
  pinMode(9, INPUT);
  pinMode(12, INPUT);
  pinMode(13, INPUT);
  
  pan.attach(10); // attaches the pan servo on pin 10 to the servo object
  tilt.attach(11);  // attaches the titl servo on pin 11 to the servo object
}

void loop() {
  //Read from all of the digital inputs
  dig_0 = digitalRead(0);
  dig_1 = digitalRead(1);
  dig_2 = digitalRead(2);
  dig_3 = digitalRead(3);
  dig_4 = digitalRead(4);
  dig_5 = digitalRead(5);
  dig_6 = digitalRead(6);
  dig_7 = digitalRead(7);
  dig_8 = digitalRead(8);
  dig_9 = digitalRead(9);
  dig_12 = digitalRead(12);
  dig_13 = digitalRead(13);

  //find the decimal value of the digital inputs
  index = dig_0 + dig_1 * 2 + dig_2 * 4 + dig_3 * 8 + dig_4 * 16 + dig_5 * 32 + dig_6 * 64 + dig_7 * 128 + dig_8 * 256 + dig_9 * 512 + dig_12 * 1024 + dig_13 * 2048;

  //Find the index in the Pan array
  pan_index = (int) (index / 28 - 1);
  if (index % 28 > 0) {
    pan_index++;
    }

  pan_pos = pan_array[pan_index];
  tilt_pos = tilt_array[index - 1];
  //command the servos to their approviate angles
  pan.write(pan_pos);
  tilt.write(tilt_pos);
}
